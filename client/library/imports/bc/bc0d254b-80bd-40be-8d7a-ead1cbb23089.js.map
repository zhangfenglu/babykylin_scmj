{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        _popuproot:null,\r\n        _settings:null,\r\n        _dissolveNotice:null,\r\n        \r\n        _endTime:-1,\r\n        _extraInfo:null,\r\n        _noticeLabel:null,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        if(cc.vv == null){\r\n            return;\r\n        }\r\n        \r\n        cc.vv.popupMgr = this;\r\n        \r\n        this._popuproot = cc.find(\"Canvas/popups\");\r\n        this._settings = cc.find(\"Canvas/popups/settings\");\r\n        this._dissolveNotice = cc.find(\"Canvas/popups/dissolve_notice\");\r\n        this._noticeLabel = this._dissolveNotice.getChildByName(\"info\").getComponent(cc.Label);\r\n        \r\n        this.closeAll();\r\n        \r\n        this.addBtnHandler(\"settings/btn_close\");\r\n        this.addBtnHandler(\"settings/btn_sqjsfj\");\r\n        this.addBtnHandler(\"dissolve_notice/btn_agree\");\r\n        this.addBtnHandler(\"dissolve_notice/btn_reject\");\r\n        this.addBtnHandler(\"dissolve_notice/btn_ok\");\r\n        \r\n        var self = this;\r\n        this.node.on(\"dissolve_notice\",function(event){\r\n            var data = event.detail;\r\n            self.showDissolveNotice(data);\r\n        });\r\n        \r\n        this.node.on(\"dissolve_cancel\",function(event){\r\n            self.closeAll();\r\n        });\r\n    },\r\n    \r\n    start:function(){\r\n        if(cc.vv.gameNetMgr.dissoveData){\r\n            this.showDissolveNotice(cc.vv.gameNetMgr.dissoveData);\r\n        }\r\n    },\r\n    \r\n    addBtnHandler:function(btnName){\r\n        var btn = cc.find(\"Canvas/popups/\" + btnName);\r\n        this.addClickEvent(btn,this.node,\"PopupMgr\",\"onBtnClicked\");\r\n    },\r\n    \r\n    addClickEvent:function(node,target,component,handler){\r\n        var eventHandler = new cc.Component.EventHandler();\r\n        eventHandler.target = target;\r\n        eventHandler.component = component;\r\n        eventHandler.handler = handler;\r\n\r\n        var clickEvents = node.getComponent(cc.Button).clickEvents;\r\n        clickEvents.push(eventHandler);\r\n    },\r\n    \r\n    onBtnClicked:function(event){\r\n        this.closeAll();\r\n        var btnName = event.target.name;\r\n        if(btnName == \"btn_agree\"){\r\n            cc.vv.net.send(\"dissolve_agree\");\r\n        }\r\n        else if(btnName == \"btn_reject\"){\r\n            cc.vv.net.send(\"dissolve_reject\");\r\n        }\r\n        else if(btnName == \"btn_sqjsfj\"){\r\n            cc.vv.net.send(\"dissolve_request\"); \r\n        }\r\n    },\r\n    \r\n    closeAll:function(){\r\n        this._popuproot.active = false;\r\n        this._settings.active = false;\r\n        this._dissolveNotice.active = false;\r\n    },\r\n    \r\n    showSettings:function(){\r\n        this.closeAll();\r\n        this._popuproot.active = true;\r\n        this._settings.active = true;\r\n    },\r\n    \r\n    showDissolveRequest:function(){\r\n        this.closeAll();\r\n        this._popuproot.active = true;\r\n    },\r\n    \r\n    showDissolveNotice:function(data){\r\n        this._endTime = Date.now()/1000 + data.time;\r\n        this._extraInfo = \"\";\r\n        for(var i = 0; i < data.states.length; ++i){\r\n            var b = data.states[i];\r\n            var name = cc.vv.gameNetMgr.seats[i].name;\r\n            if(b){\r\n                this._extraInfo += \"\\n[已同意] \"+ name;\r\n            }\r\n            else{\r\n                this._extraInfo += \"\\n[待确认] \"+ name;\r\n            }\r\n        }\r\n        this.closeAll();\r\n        this._popuproot.active = true;\r\n        this._dissolveNotice.active = true;;\r\n    },\r\n    \r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n        if(this._endTime > 0){\r\n            var lastTime = this._endTime - Date.now() / 1000;\r\n            if(lastTime < 0){\r\n                this._endTime = -1;\r\n            }\r\n            \r\n            var m = Math.floor(lastTime / 60);\r\n            var s = Math.ceil(lastTime - m*60);\r\n            \r\n            var str = \"\";\r\n            if(m > 0){\r\n                str += m + \"分\"; \r\n            }\r\n            \r\n            this._noticeLabel.string = str + s + \"秒后房间将自动解散\" + this._extraInfo;\r\n        }\r\n    },\r\n});\r\n"
  ]
}