{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        account:null,\r\n\t    userId:null,\r\n\t\tuserName:null,\r\n\t\tlv:0,\r\n\t\texp:0,\r\n\t\tcoins:0,\r\n\t\tgems:0,\r\n\t\tsign:0,\r\n        ip:\"\",\r\n        sex:0,\r\n        roomData:null,\r\n        \r\n        oldRoomId:null,\r\n    },\r\n    \r\n    guestAuth:function(){\r\n        var account = cc.args[\"account\"];\r\n        if(account == null){\r\n            account = cc.sys.localStorage.getItem(\"account\");\r\n        }\r\n        \r\n        if(account == null){\r\n            account = Date.now();\r\n            cc.sys.localStorage.setItem(\"account\",account);\r\n        }\r\n        \r\n        cc.vv.http.sendRequest(\"/guest\",{account:account},this.onAuth);\r\n    },\r\n    \r\n    onAuth:function(ret){\r\n        var self = cc.vv.userMgr;\r\n        if(ret.errcode !== 0){\r\n            console.log(ret.errmsg);\r\n        }\r\n        else{\r\n            self.account = ret.account;\r\n            self.sign = ret.sign;\r\n            cc.vv.http.url = \"http://\" + cc.vv.SI.hall;\r\n            self.login();\r\n        }   \r\n    },\r\n    \r\n    login:function(){\r\n        var self = this;\r\n        var onLogin = function(ret){\r\n            if(ret.errcode !== 0){\r\n                console.log(ret.errmsg);\r\n            }\r\n            else{\r\n                if(!ret.userid){\r\n                    //jump to register user info.\r\n                    cc.director.loadScene(\"createrole\");\r\n                }\r\n                else{\r\n                    console.log(ret);\r\n                    self.account = ret.account;\r\n        \t\t\tself.userId = ret.userid;\r\n        \t\t\tself.userName = ret.name;\r\n        \t\t\tself.lv = ret.lv;\r\n        \t\t\tself.exp = ret.exp;\r\n        \t\t\tself.coins = ret.coins;\r\n        \t\t\tself.gems = ret.gems;\r\n                    self.roomData = ret.roomid;\r\n                    self.sex = ret.sex;\r\n                    self.ip = ret.ip;\r\n        \t\t\tcc.director.loadScene(\"hall\");\r\n                }\r\n            }\r\n        };\r\n        cc.vv.wc.show(\"正在登录游戏\");\r\n        cc.vv.http.sendRequest(\"/login\",{account:this.account,sign:this.sign},onLogin);\r\n    },\r\n    \r\n    create:function(name){\r\n        var self = this;\r\n        var onCreate = function(ret){\r\n            if(ret.errcode !== 0){\r\n                console.log(ret.errmsg);\r\n            }\r\n            else{\r\n                self.login();\r\n            }\r\n        };\r\n        \r\n        var data = {\r\n            account:this.account,\r\n            sign:this.sign,\r\n            name:name\r\n        };\r\n        cc.vv.http.sendRequest(\"/create_user\",data,onCreate);    \r\n    },\r\n    \r\n    enterRoom:function(roomId,callback){\r\n        var self = this;\r\n        var onEnter = function(ret){\r\n            if(ret.errcode !== 0){\r\n                if(ret.errcode == -1){\r\n                    setTimeout(function(){\r\n                        self.enterRoom(roomId,callback);\r\n                    },5000);\r\n                }\r\n                else{\r\n                    cc.vv.wc.hide();\r\n                    if(callback != null){\r\n                        callback(ret);\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                cc.vv.wc.hide();\r\n                if(callback != null){\r\n                    callback(ret);\r\n                }\r\n                cc.vv.gameNetMgr.connectGameServer(ret);\r\n            }\r\n        };\r\n        \r\n        var data = {\r\n            account:cc.vv.userMgr.account,\r\n            sign:cc.vv.userMgr.sign,\r\n            roomid:roomId\r\n        };\r\n        cc.vv.wc.show(\"正在进入房间 \" + roomId);\r\n        cc.vv.http.sendRequest(\"/enter_private_room\",data,onEnter);\r\n    },\r\n    getHistoryList:function(callback){\r\n        var self = this;\r\n        var onGet = function(ret){\r\n            if(ret.errcode !== 0){\r\n                console.log(ret.errmsg);\r\n            }\r\n            else{\r\n                console.log(ret.history);\r\n                if(callback != null){\r\n                    callback(ret.history);\r\n                }\r\n            }\r\n        };\r\n        \r\n        var data = {\r\n            account:cc.vv.userMgr.account,\r\n            sign:cc.vv.userMgr.sign,\r\n        };\r\n        cc.vv.http.sendRequest(\"/get_history_list\",data,onGet);\r\n    },\r\n    getGamesOfRoom:function(uuid,callback){\r\n        var self = this;\r\n        var onGet = function(ret){\r\n            if(ret.errcode !== 0){\r\n                console.log(ret.errmsg);\r\n            }\r\n            else{\r\n                console.log(ret.data);\r\n                callback(ret.data);\r\n            }\r\n        };\r\n        \r\n        var data = {\r\n            account:cc.vv.userMgr.account,\r\n            sign:cc.vv.userMgr.sign,\r\n            uuid:uuid,\r\n        };\r\n        cc.vv.http.sendRequest(\"/get_games_of_room\",data,onGet);\r\n    },\r\n    \r\n    getDetailOfGame:function(uuid,index,callback){\r\n        var self = this;\r\n        var onGet = function(ret){\r\n            if(ret.errcode !== 0){\r\n                console.log(ret.errmsg);\r\n            }\r\n            else{\r\n                console.log(ret.data);\r\n                callback(ret.data);\r\n            }       \r\n        };\r\n        \r\n        var data = {\r\n            account:cc.vv.userMgr.account,\r\n            sign:cc.vv.userMgr.sign,\r\n            uuid:uuid,\r\n            index:index,\r\n        };\r\n        cc.vv.http.sendRequest(\"/get_detail_of_game\",data,onGet);\r\n    }\r\n});\r\n"
  ]
}