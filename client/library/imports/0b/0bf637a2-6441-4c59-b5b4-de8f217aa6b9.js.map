{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        _folds:null,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        if(cc.vv == null){\r\n            return;\r\n        }\r\n        \r\n        this.initView();\r\n        this.initEventHandler();\r\n        \r\n        this.initAllFolds();\r\n    },\r\n    \r\n    initView:function(){\r\n        this._folds = {};\r\n        var game = this.node.getChildByName(\"game\");\r\n        var sides = [\"myself\",\"right\",\"up\",\"left\"];\r\n        for(var i = 0; i < sides.length; ++i){\r\n            var sideName = sides[i];\r\n            var sideRoot = game.getChildByName(sideName);\r\n            var folds = [];\r\n            var foldRoot = sideRoot.getChildByName(\"folds\");\r\n            for(var j = 0; j < foldRoot.children.length; ++j){\r\n                var n = foldRoot.children[j];\r\n                n.active = false;\r\n                var sprite = n.getComponent(cc.Sprite); \r\n                sprite.spriteFrame = null;\r\n                folds.push(sprite);            \r\n            }\r\n            this._folds[sideName] = folds; \r\n        }\r\n        \r\n        this.hideAllFolds();\r\n    },\r\n    \r\n    hideAllFolds:function(){\r\n        for(var k in this._folds){\r\n            var f = this._folds[i];\r\n            for(var i in f){\r\n                f[i].node.active = false;\r\n            }\r\n        }\r\n    },\r\n    \r\n    initEventHandler:function(){\r\n        var self = this;\r\n        this.node.on('game_begin',function(data){\r\n            self.initAllFolds();\r\n        });  \r\n        \r\n        this.node.on('game_sync',function(data){\r\n            self.initAllFolds();\r\n        });\r\n        \r\n        this.node.on('game_chupai_notify',function(data){\r\n            self.initFolds(data.detail);\r\n        });\r\n        \r\n        this.node.on('guo_notify',function(data){\r\n            self.initFolds(data.detail);\r\n        });\r\n    },\r\n    \r\n    initAllFolds:function(){\r\n        var seats = cc.vv.gameNetMgr.seats;\r\n        for(var i in seats){\r\n            this.initFolds(seats[i]);\r\n        }\r\n    },\r\n    \r\n    initFolds:function(seatData){\r\n        var folds = seatData.folds;\r\n        if(folds == null){\r\n            return;\r\n        }\r\n        var localIndex = cc.vv.gameNetMgr.getLocalIndex(seatData.seatindex);\r\n        var pre = cc.vv.mahjongmgr.getFoldPre(localIndex);\r\n        var side = cc.vv.mahjongmgr.getSide(localIndex);\r\n        \r\n        var foldsSprites = this._folds[side];\r\n        for(var i = 0; i < foldsSprites.length; ++i){\r\n            var index = i;\r\n            if(side == \"right\" || side == \"up\"){\r\n                index = foldsSprites.length - i - 1;\r\n            }\r\n            var sprite = foldsSprites[index];\r\n            sprite.node.active = true;\r\n            this.setSpriteFrameByMJID(pre,sprite,folds[i]);\r\n        }\r\n        for(var i = folds.length; i < foldsSprites.length; ++i){\r\n            var index = i;\r\n            if(side == \"right\" || side == \"up\"){\r\n                index = foldsSprites.length - i - 1;\r\n            }\r\n            var sprite = foldsSprites[index];\r\n            \r\n            sprite.spriteFrame = null;\r\n            sprite.node.active = false;\r\n        }  \r\n    },\r\n    \r\n    setSpriteFrameByMJID:function(pre,sprite,mjid){\r\n        sprite.spriteFrame = cc.vv.mahjongmgr.getSpriteFrameByMJID(pre,mjid);\r\n        sprite.node.active = true;\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"
  ]
}