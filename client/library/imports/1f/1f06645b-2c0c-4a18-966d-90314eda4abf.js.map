{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var radix = 12;\r\nvar base = 128 - radix;\r\nfunction crypto(value){\r\n    value -= base;\r\n    var h = Math.floor(value/radix) + base;\r\n    var l = value%radix + base;\r\n    return String.fromCharCode(h) + String.fromCharCode(l);\r\n}\r\n\r\nvar encodermap = {}\r\nvar decodermap = {}\r\nfor(var i = 0; i < 256; ++i){\r\n    var code = null;\r\n    var v = i + 1;\r\n    if(v >= base){\r\n        code = crypto(v);\r\n    }\r\n    else{\r\n        code = String.fromCharCode(v);    \r\n    }\r\n    \r\n    encodermap[i] = code;\r\n    decodermap[code] = i;\r\n}\r\n\r\nfunction encode(data){\r\n    var content = \"\";\r\n    var len = data.length;\r\n    var a = (len >> 24) & 0xff;\r\n    var b = (len >> 16) & 0xff;\r\n    var c = (len >> 8) & 0xff;\r\n    var d = len & 0xff;\r\n    content += encodermap[a];\r\n    content += encodermap[b];\r\n    content += encodermap[c];\r\n    content += encodermap[d];\r\n    for(var i = 0; i < data.length; ++i){\r\n        content += encodermap[data[i]];\r\n    }\r\n    return content;\r\n}\r\n\r\nfunction getCode(content,index){\r\n    var c = content.charCodeAt(index);\r\n    if(c >= base){\r\n        c = content.charAt(index) + content.charAt(index + 1);\r\n    }\r\n    else{\r\n        c = content.charAt(index);\r\n    }\r\n    return c;\r\n}\r\nfunction decode(content){\r\n    var index = 0;\r\n    var len = 0;\r\n    for(var i = 0; i < 4; ++i){\r\n        var c = getCode(content,index);\r\n        index += c.length;\r\n        var v = decodermap[c];\r\n        len |= v << (3-i)*8;\r\n    }\r\n    \r\n    var newData = new Uint8Array(len);\r\n    var cnt = 0;\r\n    while(index < content.length){\r\n        var c = getCode(content,index);\r\n        index += c.length;\r\n        newData[cnt] = decodermap[c];\r\n        cnt++;\r\n    }\r\n    return newData;\r\n}\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        onPlayCallback:null,\r\n        _voiceMediaPath:null,\r\n    },\r\n\r\n    // use this for initialization\r\n    init: function () {\r\n        /*\r\n        var url = cc.url.raw(\"resources/test.amr\");\r\n        var fileData = jsb.fileUtils.getDataFromFile(url);\r\n        var content = \"\";\r\n        var sep = \"\";\r\n        for(var i = 0; i < fileData.length; ++i){\r\n            content += sep + fileData[i];\r\n            sep = \",\";\r\n        }\r\n        \r\n        var url = cc.url.raw(\"resources/test.txt\");\r\n        jsb.fileUtils.writeStringToFile(content,url);\r\n        \r\n        var url = cc.url.raw(\"resources/test2.amrs\");\r\n        var content = encode(fileData);\r\n        jsb.fileUtils.writeStringToFile(content,url);\r\n        \r\n        var url = cc.url.raw(\"resources/test2.amr\");\r\n        jsb.fileUtils.writeDataToFile(decode(content),url);\r\n        */\r\n        \r\n        if(cc.sys.isNative){\r\n            this._voiceMediaPath = jsb.fileUtils.getWritablePath() + \"/voicemsgs/\";\r\n            this.setStorageDir(this._voiceMediaPath);\r\n        }\r\n    },\r\n    \r\n    prepare:function(filename){\r\n        if(!cc.sys.isNative){\r\n            return;\r\n        }\r\n        cc.vv.audioMgr.pauseAll();\r\n        this.clearCache(filename);\r\n        if(cc.sys.os == cc.sys.OS_ANDROID){\r\n            jsb.reflection.callStaticMethod(\"com/babykylin/VoiceRecorder\", \"prepare\", \"(Ljava/lang/String;)V\",filename);\r\n        }\r\n        else if(cc.sys.os == cc.sys.OS_IOS){\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"prepareRecord:\",filename);\r\n        }\r\n    },\r\n    \r\n    release:function(){\r\n        if(!cc.sys.isNative){\r\n            return;\r\n        }\r\n        cc.vv.audioMgr.resumeAll();\r\n        if(cc.sys.os == cc.sys.OS_ANDROID){\r\n            jsb.reflection.callStaticMethod(\"com/babykylin/VoiceRecorder\", \"release\", \"()V\");\r\n        }\r\n        else if(cc.sys.os == cc.sys.OS_IOS){\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"finishRecord\");\r\n        }\r\n    },\r\n    \r\n    cancel:function(){\r\n        if(!cc.sys.isNative){\r\n            return;\r\n        }\r\n        cc.vv.audioMgr.resumeAll();\r\n        if(cc.sys.os == cc.sys.OS_ANDROID){\r\n            jsb.reflection.callStaticMethod(\"com/babykylin/VoiceRecorder\", \"cancel\", \"()V\");\r\n        }\r\n        else if(cc.sys.os == cc.sys.OS_IOS){\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"cancelRecord\");\r\n        }\r\n    },\r\n\r\n    writeVoice:function(filename,voiceData){\r\n        if(!cc.sys.isNative){\r\n            return;\r\n        }\r\n        if(voiceData && voiceData.length > 0){\r\n            var fileData = decode(voiceData);\r\n            var url = this._voiceMediaPath + filename;\r\n            this.clearCache(filename);\r\n            jsb.fileUtils.writeDataToFile(fileData,url); \r\n        }\r\n    },\r\n    \r\n    clearCache:function(filename){\r\n        if(cc.sys.isNative){\r\n            var url = this._voiceMediaPath + filename;\r\n            //console.log(\"check file:\" + url);\r\n            if(jsb.fileUtils.isFileExist(url)){\r\n                //console.log(\"remove:\" + url);\r\n                jsb.fileUtils.removeFile(url);\r\n            }\r\n            if(jsb.fileUtils.isFileExist(url + \".wav\")){\r\n                //console.log(\"remove:\" + url + \".wav\");\r\n                jsb.fileUtils.removeFile(url + \".wav\");\r\n            }   \r\n        }\r\n    },\r\n    \r\n    play:function(filename){\r\n        if(!cc.sys.isNative){\r\n            return;\r\n        }\r\n        cc.vv.audioMgr.pauseAll();\r\n        if(cc.sys.os == cc.sys.OS_ANDROID){\r\n            jsb.reflection.callStaticMethod(\"com/babykylin/VoicePlayer\", \"play\", \"(Ljava/lang/String;)V\",filename); \r\n        }\r\n        else if(cc.sys.os == cc.sys.OS_IOS){\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"play:\",filename);\r\n        }\r\n        else{\r\n        }\r\n    },\r\n    \r\n    stop:function(){\r\n        if(!cc.sys.isNative){\r\n            return;\r\n        }\r\n        cc.vv.audioMgr.resumeAll();\r\n        if(cc.sys.os == cc.sys.OS_ANDROID){\r\n            jsb.reflection.callStaticMethod(\"com/babykylin/VoicePlayer\", \"stop\", \"()V\"); \r\n        }\r\n        else if(cc.sys.os == cc.sys.OS_IOS){\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"stopPlay\");\r\n        }\r\n        else{\r\n        }\r\n    },\r\n    \r\n    getVoiceLevel:function(maxLevel){\r\n        return Math.floor(Math.random() * maxLevel + 1);\r\n        if(cc.sys.os == cc.sys.OS_ANDROID){ \r\n            return jsb.reflection.callStaticMethod(\"com/babykylin/VoiceRecorder\", \"getVoiceLevel\", \"(I)I\",maxLevel);\r\n        }\r\n        else if(cc.sys.os == cc.sys.OS_IOS){\r\n        }\r\n        else{\r\n            return Math.floor(Math.random() * maxLevel + 1);\r\n        }\r\n    },\r\n    \r\n    getVoiceData:function(filename){\r\n        if(cc.sys.isNative){\r\n            var url = this._voiceMediaPath + filename;\r\n            console.log(\"getVoiceData:\" + url);\r\n            var fileData = jsb.fileUtils.getDataFromFile(url);\r\n            if(fileData){\r\n                var content = encode(fileData);\r\n                return content;\r\n            }\r\n        }\r\n        return \"\";\r\n    },\r\n    \r\n    download:function(){\r\n        \r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n    \r\n    setStorageDir:function(dir){\r\n        if(!cc.sys.isNative){\r\n            return;\r\n        }\r\n        if(cc.sys.os == cc.sys.OS_ANDROID){ \r\n            jsb.reflection.callStaticMethod(\"com/babykylin/VoiceRecorder\", \"setStorageDir\", \"(Ljava/lang/String;)V\",dir);    \r\n        }\r\n        else if(cc.sys.os == cc.sys.OS_IOS){\r\n            jsb.reflection.callStaticMethod(\"VoiceSDK\", \"setStorageDir:\",dir);\r\n            if(!jsb.fileUtils.isDirectoryExist(dir)){\r\n                jsb.fileUtils.createDirectory(dir);\r\n            }\r\n        }\r\n    }\r\n});\r\n"
  ]
}