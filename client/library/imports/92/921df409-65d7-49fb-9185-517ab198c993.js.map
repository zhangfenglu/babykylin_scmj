{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        lblRoomNo:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        _seats:[],\r\n        _seats2:[],\r\n        _timeLabel:null,\r\n        _voiceMsgQueue:[],\r\n        _lastPlayingSeat:null,\r\n        _playingSeat:null,\r\n        _lastPlayTime:null,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        if(cc.vv == null){\r\n            return;\r\n        }\r\n        \r\n        this.initView();\r\n        this.initSeats();\r\n        this.initEventHandlers();\r\n    },\r\n    \r\n    initView:function(){\r\n        var prepare = this.node.getChildByName(\"prepare\");\r\n        var seats = prepare.getChildByName(\"seats\");\r\n        for(var i = 0; i < seats.children.length; ++i){\r\n            this._seats.push(seats.children[i].getComponent(\"Seat\"));\r\n        }\r\n        \r\n        this.refreshBtns();\r\n        \r\n        this.lblRoomNo = cc.find(\"Canvas/infobar/Z_room_txt/New Label\").getComponent(cc.Label);\r\n        this._timeLabel = cc.find(\"Canvas/infobar/time\").getComponent(cc.Label);\r\n        this.lblRoomNo.string = cc.vv.gameNetMgr.roomId;\r\n        var gameChild = this.node.getChildByName(\"game\");\r\n        var sides = [\"myself\",\"right\",\"up\",\"left\"];\r\n        for(var i = 0; i < sides.length; ++i){\r\n            var sideNode = gameChild.getChildByName(sides[i]);\r\n            var seat = sideNode.getChildByName(\"seat\");\r\n            this._seats2.push(seat.getComponent(\"Seat\"));\r\n        }\r\n        \r\n        var btnWechat = cc.find(\"Canvas/prepare/btnWeichat\");\r\n        if(btnWechat){\r\n            cc.vv.utils.addClickEvent(btnWechat,this.node,\"MJRoom\",\"onBtnWeichatClicked\");\r\n        }\r\n        \r\n        \r\n        var titles = cc.find(\"Canvas/typeTitle\");\r\n        for(var i = 0; i < titles.children.length; ++i){\r\n            titles.children[i].active = false;\r\n        }\r\n        \r\n        if(cc.vv.gameNetMgr.conf){\r\n            var type = cc.vv.gameNetMgr.conf.type;\r\n            if(type == null || type == \"\"){\r\n                type = \"xzdd\";\r\n            }\r\n            \r\n            titles.getChildByName(type).active = true;   \r\n        }\r\n    },\r\n    \r\n    refreshBtns:function(){\r\n        var prepare = this.node.getChildByName(\"prepare\");\r\n        var btnExit = prepare.getChildByName(\"btnExit\");\r\n        var btnDispress = prepare.getChildByName(\"btnDissolve\");\r\n        var btnWeichat = prepare.getChildByName(\"btnWeichat\");\r\n        var btnBack = prepare.getChildByName(\"btnBack\");\r\n        var isIdle = cc.vv.gameNetMgr.numOfGames == 0;\r\n        \r\n        btnExit.active = !cc.vv.gameNetMgr.isOwner() && isIdle;\r\n        btnDispress.active = cc.vv.gameNetMgr.isOwner() && isIdle;\r\n        \r\n        btnWeichat.active = isIdle;\r\n        btnBack.active = isIdle;\r\n    },\r\n    \r\n    initEventHandlers:function(){\r\n        var self = this;\r\n        this.node.on('new_user',function(data){\r\n            self.initSingleSeat(data.detail);\r\n        });\r\n        \r\n        this.node.on('user_state_changed',function(data){\r\n            self.initSingleSeat(data.detail);\r\n        });\r\n        \r\n        this.node.on('game_begin',function(data){\r\n            self.refreshBtns();\r\n            self.initSeats();\r\n        });\r\n        \r\n        this.node.on('game_num',function(data){\r\n            self.refreshBtns();\r\n        });\r\n\r\n        this.node.on('game_huanpai',function(data){\r\n            for(var i in self._seats2){\r\n                self._seats2[i].refreshXuanPaiState();    \r\n            }\r\n        });\r\n                \r\n        this.node.on('huanpai_notify',function(data){\r\n            var idx = data.detail.seatindex;\r\n            var localIdx = cc.vv.gameNetMgr.getLocalIndex(idx);\r\n            self._seats2[localIdx].refreshXuanPaiState();\r\n        });\r\n        \r\n        this.node.on('game_huanpai_over',function(data){\r\n            for(var i in self._seats2){\r\n                self._seats2[i].refreshXuanPaiState();    \r\n            }\r\n        });\r\n        \r\n        this.node.on('voice_msg',function(data){\r\n            var data = data.detail;\r\n            self._voiceMsgQueue.push(data);\r\n            self.playVoice();\r\n        });\r\n        \r\n        this.node.on('chat_push',function(data){\r\n            var data = data.detail;\r\n            var idx = cc.vv.gameNetMgr.getSeatIndexByID(data.sender);\r\n            var localIdx = cc.vv.gameNetMgr.getLocalIndex(idx);\r\n            self._seats[localIdx].chat(data.content);\r\n            self._seats2[localIdx].chat(data.content);\r\n        });\r\n        \r\n        this.node.on('quick_chat_push',function(data){\r\n            var data = data.detail;\r\n            var idx = cc.vv.gameNetMgr.getSeatIndexByID(data.sender);\r\n            var localIdx = cc.vv.gameNetMgr.getLocalIndex(idx);\r\n            \r\n            var index = data.content;\r\n            var info = cc.vv.chat.getQuickChatInfo(index);\r\n            self._seats[localIdx].chat(info.content);\r\n            self._seats2[localIdx].chat(info.content);\r\n            \r\n            cc.vv.audioMgr.playSFX(info.sound);\r\n        });\r\n        \r\n        this.node.on('emoji_push',function(data){\r\n            var data = data.detail;\r\n            var idx = cc.vv.gameNetMgr.getSeatIndexByID(data.sender);\r\n            var localIdx = cc.vv.gameNetMgr.getLocalIndex(idx);\r\n            console.log(data);\r\n            self._seats[localIdx].emoji(data.content);\r\n            self._seats2[localIdx].emoji(data.content);\r\n        });\r\n    },\r\n    \r\n    initSeats:function(){\r\n        var seats = cc.vv.gameNetMgr.seats;\r\n        for(var i = 0; i < seats.length; ++i){\r\n            this.initSingleSeat(seats[i]);\r\n        }\r\n    },\r\n    \r\n    initSingleSeat:function(seat){\r\n        var index = cc.vv.gameNetMgr.getLocalIndex(seat.seatindex);\r\n        var isOffline = !seat.online;\r\n        var isZhuang = seat.seatindex == cc.vv.gameNetMgr.button;\r\n        \r\n        console.log(\"isOffline:\" + isOffline);\r\n        \r\n        this._seats[index].setInfo(seat.name,seat.score);\r\n        this._seats[index].setReady(seat.ready);\r\n        this._seats[index].setOffline(isOffline);\r\n        this._seats[index].setID(seat.userid);\r\n        this._seats[index].voiceMsg(false);\r\n        \r\n        this._seats2[index].setInfo(seat.name,seat.score);\r\n        this._seats2[index].setZhuang(isZhuang);\r\n        this._seats2[index].setOffline(isOffline);\r\n        this._seats2[index].setID(seat.userid);\r\n        this._seats2[index].voiceMsg(false);\r\n        this._seats2[index].refreshXuanPaiState();\r\n    },\r\n    \r\n    onBtnSettingsClicked:function(){\r\n        cc.vv.popupMgr.showSettings();   \r\n    },\r\n\r\n    onBtnBackClicked:function(){\r\n        cc.vv.alert.show(\"返回大厅\",\"返回大厅房间仍会保留，快去邀请大伙来玩吧！\",function(){\r\n            cc.vv.wc.show('正在返回游戏大厅');\r\n            cc.director.loadScene(\"hall\");    \r\n        },true);\r\n    },\r\n    \r\n    onBtnChatClicked:function(){\r\n        \r\n    },\r\n    \r\n    onBtnWeichatClicked:function(){\r\n        var title = \"<血战到底>\";\r\n        if(cc.vv.gameNetMgr.conf.type == \"xlch\"){\r\n            var title = \"<血流成河>\";\r\n        }\r\n        cc.vv.anysdkMgr.share(\"天天麻将\" + title,\"房号:\" + cc.vv.gameNetMgr.roomId + \" 玩法:\" + cc.vv.gameNetMgr.getWanfa());\r\n    },\r\n    \r\n    onBtnDissolveClicked:function(){\r\n        cc.vv.alert.show(\"解散房间\",\"解散房间不扣房卡，是否确定解散？\",function(){\r\n            cc.vv.net.send(\"dispress\");    \r\n        },true);\r\n    },\r\n    \r\n    onBtnExit:function(){\r\n        cc.vv.net.send(\"exit\");\r\n    },\r\n    \r\n    playVoice:function(){\r\n        if(this._playingSeat == null && this._voiceMsgQueue.length){\r\n            console.log(\"playVoice2\");\r\n            var data = this._voiceMsgQueue.shift();\r\n            var idx = cc.vv.gameNetMgr.getSeatIndexByID(data.sender);\r\n            var localIndex = cc.vv.gameNetMgr.getLocalIndex(idx);\r\n            this._playingSeat = localIndex;\r\n            this._seats[localIndex].voiceMsg(true);\r\n            this._seats2[localIndex].voiceMsg(true);\r\n            \r\n            var msgInfo = JSON.parse(data.content);\r\n            \r\n            var msgfile = \"voicemsg.amr\";\r\n            console.log(msgInfo.msg.length);\r\n            cc.vv.voiceMgr.writeVoice(msgfile,msgInfo.msg);\r\n            cc.vv.voiceMgr.play(msgfile);\r\n            this._lastPlayTime = Date.now() + msgInfo.time;\r\n        }\r\n    },\r\n    \r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n        var minutes = Math.floor(Date.now()/1000/60);\r\n        if(this._lastMinute != minutes){\r\n            this._lastMinute = minutes;\r\n            var date = new Date();\r\n            var h = date.getHours();\r\n            h = h < 10? \"0\"+h:h;\r\n            \r\n            var m = date.getMinutes();\r\n            m = m < 10? \"0\"+m:m;\r\n            this._timeLabel.string = \"\" + h + \":\" + m;             \r\n        }\r\n        \r\n        \r\n        if(this._lastPlayTime != null){\r\n            if(Date.now() > this._lastPlayTime + 200){\r\n                this.onPlayerOver();\r\n                this._lastPlayTime = null;    \r\n            }\r\n        }\r\n        else{\r\n            this.playVoice();\r\n        }\r\n    },\r\n    \r\n        \r\n    onPlayerOver:function(){\r\n        cc.vv.audioMgr.resumeAll();\r\n        console.log(\"onPlayCallback:\" + this._playingSeat);\r\n        var localIndex = this._playingSeat;\r\n        this._playingSeat = null;\r\n        this._seats[localIndex].voiceMsg(false);\r\n        this._seats2[localIndex].voiceMsg(false);\r\n    },\r\n    \r\n    onDestroy:function(){\r\n        cc.vv.voiceMgr.stop();\r\n//        cc.vv.voiceMgr.onPlayCallback = null;\r\n    }\r\n});\r\n"
  ]
}